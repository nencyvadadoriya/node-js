<%- include('../header') %>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <% if (success && success.length> 0) { %>
    <script>
      Swal.fire({
        icon: 'success',
        title: 'Success',
        text: '<%= success %>',
        confirmButtonColor: '#28a745'
      });
    </script>
    <% } %>

      <% if (error && error.length> 0) { %>
        <script>
          Swal.fire({
            icon: 'error',
            title: 'Error',
            text: '<%= error %>',
            confirmButtonColor: '#dc3545'
          });
        </script>
        <% } %>
          <!DOCTYPE html>
          <html lang="en">

          <head>
            <meta charset="UTF-8">
            <title>Admin Profile</title>
            <style>
              body {
                background-color: #f8f9fa;
              }

              .sidebar {
                height: 100vh;
                background-color: #343a40;
                color: white;
              }

              .sidebar a {
                color: white;
                text-decoration: none;
                display: block;
                padding: 10px 20px;
              }

              .sidebar a:hover {
                background-color: #495057;
              }

              .profile-pic {
                width: 120px;
                height: 120px;
                border-radius: 50%;
                object-fit: cover;
              }

              .form-section {
                background-color: #ffffff;
                padding: 30px;
                border-radius: 8px;
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.05);
              }

              .form-check {
                margin-right: 15px;
              }
            </style>
          </head>

          <body>

            <div class="container">
              <div class="row">
                <div class="col-md-10 p-4">
                  <h3>Update Profile</h3>
                  <div class="row mt-4">
                    <div class="col-md-12 form-section">
                      <form action="/editProfile" method="post" enctype="multipart/form-data">
                        <div class="row">
                          <!-- first name  -->
                          <div class="col-md-6 mb-3">
                            <label for="firstName" class="form-label">First Name</label>
                            <input type="text" id="firstName" name="fname" class="form-control"
                              value="<%= currentAdmin.fname %>">
                          </div>
                          <!-- last name  -->
                          <div class="col-md-6 mb-3">
                            <label for="lastName" class="form-label">Last Name</label>
                            <input type="text" id="lastName" name="lname" class="form-control"
                              value="<%= currentAdmin.lname %>">
                          </div>
                          <!-- email  -->
                          <div class="col-md-6 mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" id="email" name="email" class="form-control"
                              value="<%= currentAdmin.email %>">
                          </div>
                          <!-- password  -->
                          <div class="col-md-6 mb-3">
                            <label for="password" class="form-label">Password</label>
                            <input type="password" id="password" name="password" class="form-control"
                              value="<%= currentAdmin.password %>">
                          </div>

                          <!-- Gender -->
                          <div class="col-md-6 mb-3">
                            <label class="form-label">Gender</label>
                            <div class="d-flex gap-3">
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" value="male"
                                  <%=currentAdmin.gender==='male' ? 'checked' : '' %>>
                                <label class="form-check-label">Male</label>
                              </div>
                              <div class="form-check">
                                <input class="form-check-input" type="radio" name="gender" value="female"
                                  <%=currentAdmin.gender==='female' ? 'checked' : '' %>>
                                <label class="form-check-label">Female</label>
                              </div>
                            </div>
                          </div>

                          <!-- City -->
                          <div class="col-md-6 mb-3">
                            <label class="form-label">City</label>
                            <% let myCity=['Surat', 'Baroda' , 'Rajkot' , 'Mumbai' ]; %>
                              <select class="form-select" name="city">
                                <option>Select</option>
                                <% myCity.forEach(city=> { %>
                                  <option value="<%= city %>" <%=currentAdmin.city===city ? 'selected' : '' %>><%= city
                                      %>
                                  </option>
                                  <% }) %>
                              </select>
                          </div>

                          <!-- image -->
                          <div class="col-md-6 mb-3">
                            <label class="form-label">Image</label>
                            <input type="file" id="image" name="image" class="form-control">
                            <img src="../<%= currentAdmin.image %>" class="mt-2 rounded" height="80px"
                              alt="Current Avatar" />
                          </div>
                        </div>
                        <button type="submit" class="btn btn-primary mt-3">Save</button>
                      </form>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </body>

          </html>

          <%- include('../footer') %>